-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://github.com/pgadmin-org/pgadmin4/issues/new/choose if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS c01.tbl_ability_eligibility_request
(
    id serial NOT NULL,
    customerid integer NOT NULL,
    customerinsuranceid integer NOT NULL,
    requesttime timestamp without time zone NOT NULL,
    requesttext text COLLATE pg_catalog."default" NOT NULL,
    responsetime timestamp without time zone,
    responsetext text COLLATE pg_catalog."default",
    submissiontime timestamp without time zone,
    submissiontext text COLLATE pg_catalog."default",
    CONSTRAINT tbl_ability_eligibility_request_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_audit_log
(
    id serial NOT NULL,
    tablename character varying(50) COLLATE pg_catalog."default" NOT NULL,
    recordid integer NOT NULL,
    action character varying(10) COLLATE pg_catalog."default" NOT NULL,
    changedetails text COLLATE pg_catalog."default" NOT NULL,
    userid integer NOT NULL,
    changedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_audit_log_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_authorizationtype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_authorizationtype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_batch_log
(
    id serial NOT NULL,
    batchid character varying(50) COLLATE pg_catalog."default" NOT NULL,
    processname character varying(100) COLLATE pg_catalog."default" NOT NULL,
    starttime timestamp without time zone NOT NULL,
    endtime timestamp without time zone,
    recordsprocessed integer NOT NULL DEFAULT 0,
    status character varying(20) COLLATE pg_catalog."default" NOT NULL,
    errormessage text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_batch_log_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_batch_log
    IS 'Logging of batch process executions';

CREATE TABLE IF NOT EXISTS c01.tbl_batch_status
(
    id serial NOT NULL,
    batchid character varying(50) COLLATE pg_catalog."default" NOT NULL,
    status character varying(20) COLLATE pg_catalog."default" NOT NULL,
    message text COLLATE pg_catalog."default",
    createdat timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_batch_status_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_batch_status
    IS 'Current status of batch processes';

CREATE TABLE IF NOT EXISTS c01.tbl_batchpayment
(
    id serial NOT NULL,
    insurancecompanyid integer NOT NULL,
    checknumber character varying(14) COLLATE pg_catalog."default" NOT NULL,
    checkdate date NOT NULL,
    checkamount numeric(18, 2) NOT NULL,
    amountused numeric(18, 2) NOT NULL,
    lastupdateuserid smallint NOT NULL,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_batchpayment_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_billingtype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_billingtype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_changes
(
    tablename character varying(64) COLLATE pg_catalog."default" NOT NULL,
    sessionid integer NOT NULL,
    lastupdateuserid smallint NOT NULL,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_changes_pkey PRIMARY KEY (tablename)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform
(
    id serial NOT NULL,
    cmntype c01.cmn_type_enum NOT NULL DEFAULT 'DME 484.03'::c01.cmn_type_enum,
    initialdate date,
    reviseddate date,
    recertificationdate date,
    customerid integer,
    customer_icd9_1 character varying(8) COLLATE pg_catalog."default",
    customer_icd9_2 character varying(8) COLLATE pg_catalog."default",
    customer_icd9_3 character varying(8) COLLATE pg_catalog."default",
    customer_icd9_4 character varying(8) COLLATE pg_catalog."default",
    doctorid integer,
    postypeid integer,
    facilityid integer,
    answeringname character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answeringtitle character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answeringemployer character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    estimatedlengthofneed integer NOT NULL DEFAULT 0,
    signature_name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    signature_date date,
    onfile boolean NOT NULL DEFAULT false,
    orderid integer,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    customer_usingicd10 boolean NOT NULL DEFAULT false,
    CONSTRAINT tbl_cmnform_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0102a
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer6 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0102a_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0102b
(
    cmnformid integer NOT NULL,
    answer12 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer13 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer14 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer15 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer16 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer19 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer20 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer21_ulcer1_stage character varying(30) COLLATE pg_catalog."default",
    answer21_ulcer1_maxlength double precision,
    answer21_ulcer1_maxwidth double precision,
    answer21_ulcer2_stage character varying(30) COLLATE pg_catalog."default",
    answer21_ulcer2_maxlength double precision,
    answer21_ulcer2_maxwidth double precision,
    answer21_ulcer3_stage character varying(30) COLLATE pg_catalog."default",
    answer21_ulcer3_maxlength double precision,
    answer21_ulcer3_maxwidth double precision,
    answer22 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    CONSTRAINT tbl_cmnform_0102b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0203a
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 integer,
    answer6 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0203a_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0203b
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 integer,
    answer8 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0203b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0302
(
    cmnformid integer NOT NULL,
    answer12 integer,
    answer14 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0302_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0403b
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0403b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0403c
(
    cmnformid integer NOT NULL,
    answer6a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer6b integer NOT NULL DEFAULT 0,
    answer7a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7b integer NOT NULL DEFAULT 0,
    answer8 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9b integer NOT NULL DEFAULT 0,
    answer10a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer10b integer NOT NULL DEFAULT 0,
    answer10c integer NOT NULL DEFAULT 0,
    answer11a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer11b integer NOT NULL DEFAULT 0,
    CONSTRAINT tbl_cmnform_0403c_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0404b
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0404b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0404c
(
    cmnformid integer NOT NULL,
    answer6 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7b character varying(10) COLLATE pg_catalog."default",
    answer8 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9b character varying(10) COLLATE pg_catalog."default",
    answer10a answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer10b character varying(10) COLLATE pg_catalog."default",
    answer10c character varying(10) COLLATE pg_catalog."default",
    answer11 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer12 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0404c_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0602b
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 date,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 integer,
    answer5 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer6 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer8_begun date,
    answer8_ended date,
    answer9 date,
    answer10 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer11 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer12 stage_enum NOT NULL DEFAULT '2'::stage_enum,
    CONSTRAINT tbl_cmnform_0602b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0603b
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 integer,
    answer3 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer6 date,
    CONSTRAINT tbl_cmnform_0603b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0702a
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0702a_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0702b
(
    cmnformid integer NOT NULL,
    answer6 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer7 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer8 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer12 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer13 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer14 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0702b_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0703a
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer3 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer4 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0703a_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0802
(
    cmnformid integer NOT NULL,
    answer1_hcpcs character varying(5) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer1_mg integer,
    answer1_times integer,
    answer2_hcpcs character varying(5) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer2_mg integer,
    answer2_times integer,
    answer3_hcpcs character varying(5) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer3_mg integer,
    answer3_times integer,
    answer4 answer_enum NOT NULL DEFAULT 'N'::answer_enum,
    answer5_1 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer5_2 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer5_3 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer8 character varying(60) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer9 character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer10 character varying(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer11 date,
    answer12 answer_enum NOT NULL DEFAULT 'N'::answer_enum,
    CONSTRAINT tbl_cmnform_0802_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0902
(
    cmnformid integer NOT NULL,
    answer1 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer3 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer4 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer5 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer6 integer NOT NULL DEFAULT 1,
    answer7 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_0902_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_0903
(
    cmnformid integer NOT NULL,
    answer1a character varying(10) COLLATE pg_catalog."default",
    answer1b character varying(10) COLLATE pg_catalog."default",
    answer1c character varying(10) COLLATE pg_catalog."default",
    answer2a character varying(50) COLLATE pg_catalog."default",
    answer2b character varying(50) COLLATE pg_catalog."default",
    answer2c character varying(50) COLLATE pg_catalog."default",
    answer3 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer4 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    CONSTRAINT tbl_cmnform_0903_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_1003
(
    cmnformid integer NOT NULL,
    answer1 answer_enum NOT NULL DEFAULT 'Y'::answer_enum,
    answer2 answer_enum NOT NULL DEFAULT 'Y'::answer_enum,
    answer3a character varying(10) COLLATE pg_catalog."default",
    answer3b character varying(10) COLLATE pg_catalog."default",
    answer4a integer,
    answer4b integer,
    answer5 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    answer6 integer,
    answer7 answer_enum NOT NULL DEFAULT 'Y'::answer_enum,
    answer8a integer,
    answer8b integer,
    answer8c integer,
    answer8d integer,
    answer8e integer,
    answer8f integer,
    answer8g integer,
    answer8h integer,
    answer9 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    CONSTRAINT tbl_cmnform_1003_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_4842
(
    cmnformid integer NOT NULL,
    answer1a integer,
    answer1b integer,
    answer1c date,
    answer2 answer_enum NOT NULL DEFAULT 'Y'::answer_enum,
    answer3 stage_enum NOT NULL DEFAULT '1'::stage_enum,
    physicianaddress character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    physiciancity character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    physicianstate character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    physicianzip character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    physicianname character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    answer5 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer6 character varying(10) COLLATE pg_catalog."default",
    answer7a integer,
    answer7b integer,
    answer7c date,
    answer8 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer9 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    answer10 answer_enum NOT NULL DEFAULT 'D'::answer_enum,
    CONSTRAINT tbl_cmnform_4842_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_drorder
(
    cmnformid integer NOT NULL,
    prognosis character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    medicaljustification text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT tbl_cmnform_drorder_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_cmnform_uro
(
    cmnformid integer NOT NULL,
    prognosis character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_cmnform_uro_pkey PRIMARY KEY (cmnformid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_company
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    federaltaxid character varying(9) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    taxonomycode character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT '332B00000X'::character varying,
    ein character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    ssn character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    taxidtype tax_id_type_enum NOT NULL,
    npi character varying(10) COLLATE pg_catalog."default",
    zirmednumber character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    availitynumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    participatingprovider boolean NOT NULL DEFAULT false,
    poauthorizationcodereqiered boolean NOT NULL DEFAULT false,
    print_pricesonorders boolean NOT NULL DEFAULT false,
    print_companyinfooninvoice boolean NOT NULL DEFAULT false,
    print_companyinfoondelivery boolean NOT NULL DEFAULT false,
    print_companyinfoonpickup boolean NOT NULL DEFAULT false,
    systemgenerate_blanketassignments boolean NOT NULL DEFAULT false,
    systemgenerate_cappedrentalletters boolean NOT NULL DEFAULT false,
    systemgenerate_customeraccountnumbers boolean NOT NULL DEFAULT false,
    systemgenerate_deliverypickuptickets boolean NOT NULL DEFAULT false,
    systemgenerate_droctorsorder boolean NOT NULL DEFAULT false,
    systemgenerate_hippaforms boolean NOT NULL DEFAULT false,
    systemgenerate_patientbillofrights boolean NOT NULL DEFAULT false,
    systemgenerate_purchaseordernumber boolean NOT NULL DEFAULT false,
    billcustomercopayupfront boolean NOT NULL DEFAULT false,
    writeoffdifference boolean NOT NULL DEFAULT false,
    show_inactivecustomers boolean NOT NULL DEFAULT false,
    show_quantityonhand boolean NOT NULL DEFAULT false,
    use_icd10fornewcmnrx boolean NOT NULL DEFAULT false,
    automaticallyreorderinventory boolean NOT NULL DEFAULT true,
    includelocationinfo boolean NOT NULL DEFAULT false,
    picture bytea,
    postypeid integer DEFAULT 12,
    warehouseid integer,
    taxrateid integer,
    ordersurveyid integer,
    imagingserver character varying(250) COLLATE pg_catalog."default",
    abilityintegrationsettings text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_company_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_companytype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_companytype_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_companytype
    IS 'Stores different types of companies';

CREATE TABLE IF NOT EXISTS c01.tbl_compliance
(
    id serial NOT NULL,
    customerid integer NOT NULL DEFAULT 0,
    orderid integer,
    deliverydate date NOT NULL DEFAULT '1900-01-01'::date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_compliance_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_compliance_items
(
    complianceid integer NOT NULL DEFAULT 0,
    inventoryitemid integer NOT NULL DEFAULT 0
);

CREATE TABLE IF NOT EXISTS c01.tbl_compliance_notes
(
    id serial NOT NULL,
    complianceid integer NOT NULL DEFAULT 0,
    date date NOT NULL DEFAULT '1900-01-01'::date,
    done boolean NOT NULL DEFAULT false,
    notes text COLLATE pg_catalog."default" NOT NULL,
    createdbyuserid smallint,
    assignedtouserid smallint,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_compliance_notes_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_customer
(
    id serial NOT NULL,
    accountnumber character varying(40) COLLATE pg_catalog."default" NOT NULL,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    middlename character(1) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    courtesy courtesy_enum NOT NULL DEFAULT 'Dr.'::courtesy_enum,
    dateofbirth date,
    ssnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    email character varying(150) COLLATE pg_catalog."default",
    billingtypeid integer,
    customertypeid integer,
    customerclasscode character(2) COLLATE pg_catalog."default",
    locationid integer,
    customerbalance double precision,
    totalbalance double precision,
    deceaseddate date,
    employmentstatus employment_status_enum NOT NULL DEFAULT 'Unknown'::employment_status_enum,
    gender gender_enum NOT NULL DEFAULT 'Male'::gender_enum,
    height double precision,
    weight double precision,
    maritalstatus marital_status_enum NOT NULL DEFAULT 'Unknown'::marital_status_enum,
    militarybranch military_branch_enum NOT NULL DEFAULT 'N/A'::military_branch_enum,
    militarystatus military_status_enum NOT NULL DEFAULT 'N/A'::military_status_enum,
    studentstatus student_status_enum NOT NULL DEFAULT 'N/A'::student_status_enum,
    license character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    billactive boolean NOT NULL DEFAULT false,
    billname character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    billaddress1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    billaddress2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    billcity character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    billstate character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    billzip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    shipactive boolean NOT NULL DEFAULT false,
    shipname character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    shipaddress1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    shipaddress2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    shipcity character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    shipstate character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    shipzip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    deliverydirections text COLLATE pg_catalog."default" NOT NULL,
    commercialaccount boolean,
    commercialacctcreditlimit double precision,
    commercialacctterms character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    block12hcfa boolean NOT NULL DEFAULT false,
    block13hcfa boolean NOT NULL DEFAULT false,
    basis basis_enum NOT NULL DEFAULT 'Bill'::basis_enum,
    copaydollar double precision,
    copaypercent double precision,
    deductible double precision,
    outofpocket double precision,
    frequency frequency_enum NOT NULL DEFAULT 'Per Visit'::frequency_enum,
    monthsvalid integer NOT NULL DEFAULT 0,
    hardship boolean NOT NULL DEFAULT false,
    signatureonfile date,
    signaturetype character(1) COLLATE pg_catalog."default",
    taxrateid integer,
    doctor1_id integer,
    doctor2_id integer,
    emergencycontact text COLLATE pg_catalog."default" NOT NULL,
    facilityid integer,
    legalrepid integer,
    referralid integer,
    salesrepid integer,
    accidenttype accident_type_enum NOT NULL,
    stateofaccident character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    dateofinjury date,
    emergency boolean NOT NULL DEFAULT false,
    employmentrelated boolean NOT NULL DEFAULT false,
    firstconsultdate date,
    returntoworkdate date,
    icd9_1 character varying(6) COLLATE pg_catalog."default",
    icd9_2 character varying(6) COLLATE pg_catalog."default",
    icd9_3 character varying(6) COLLATE pg_catalog."default",
    icd9_4 character varying(6) COLLATE pg_catalog."default",
    postypeid integer,
    setupdate date NOT NULL DEFAULT '1900-01-01'::date,
    hippanote boolean NOT NULL DEFAULT false,
    supplierstandards boolean NOT NULL DEFAULT false,
    inactivedate date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    invoiceformid integer DEFAULT 4,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    collections boolean NOT NULL DEFAULT false,
    icd10_01 character varying(8) COLLATE pg_catalog."default",
    icd10_02 character varying(8) COLLATE pg_catalog."default",
    icd10_03 character varying(8) COLLATE pg_catalog."default",
    icd10_04 character varying(8) COLLATE pg_catalog."default",
    icd10_05 character varying(8) COLLATE pg_catalog."default",
    icd10_06 character varying(8) COLLATE pg_catalog."default",
    icd10_07 character varying(8) COLLATE pg_catalog."default",
    icd10_08 character varying(8) COLLATE pg_catalog."default",
    icd10_09 character varying(8) COLLATE pg_catalog."default",
    icd10_10 character varying(8) COLLATE pg_catalog."default",
    icd10_11 character varying(8) COLLATE pg_catalog."default",
    icd10_12 character varying(8) COLLATE pg_catalog."default",
    CONSTRAINT tbl_customer_pkey PRIMARY KEY (id),
    CONSTRAINT tbl_customer_accountnumber_key UNIQUE (accountnumber)
);

COMMENT ON TABLE c01.tbl_customer
    IS 'Stores customer/patient information';

CREATE TABLE IF NOT EXISTS c01.tbl_customer_insurance
(
    id serial NOT NULL,
    customerid integer NOT NULL DEFAULT 0,
    insurancecompanyid integer NOT NULL DEFAULT 0,
    insurancetype character(2) COLLATE pg_catalog."default",
    groupnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    policynumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    middlename character(1) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    dateofbirth date,
    gender gender_enum NOT NULL DEFAULT 'Male'::gender_enum,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    mobile character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    employer character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    relationshipcode character(2) COLLATE pg_catalog."default",
    paymentpercent integer,
    rank integer,
    basis insurance_basis_enum NOT NULL DEFAULT 'Bill'::insurance_basis_enum,
    inactivedate date,
    requesteligibility boolean NOT NULL DEFAULT false,
    requesteligibilityon date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    CONSTRAINT tbl_customer_insurance_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_customer_notes
(
    id serial NOT NULL,
    customerid integer NOT NULL,
    notes text COLLATE pg_catalog."default" NOT NULL,
    active boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    operator character varying(50) COLLATE pg_catalog."default",
    callbackdate timestamp without time zone,
    createdby smallint,
    createdat timestamp without time zone,
    CONSTRAINT tbl_customer_notes_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_customerclass
(
    code character(2) COLLATE pg_catalog."default" NOT NULL,
    description character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_customerclass_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_customertype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_customertype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_denial
(
    code character varying(6) COLLATE pg_catalog."default" NOT NULL,
    description character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_denial_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_deposits
(
    customerid integer NOT NULL,
    orderid integer NOT NULL,
    amount numeric(18, 2) NOT NULL,
    date date NOT NULL,
    paymentmethod payment_mode_enum NOT NULL,
    notes text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint NOT NULL,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_deposits_pkey PRIMARY KEY (customerid, orderid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_doctor
(
    id serial NOT NULL,
    courtesy courtesy_enum NOT NULL DEFAULT 'Dr.'::courtesy_enum,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL,
    middlename character varying(1) COLLATE pg_catalog."default" NOT NULL,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL,
    title character varying(50) COLLATE pg_catalog."default" NOT NULL,
    typeid integer,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL,
    licensenumber character varying(16) COLLATE pg_catalog."default" NOT NULL,
    licenseexpired date,
    medicaidnumber character varying(16) COLLATE pg_catalog."default" NOT NULL,
    upinnumber character varying(11) COLLATE pg_catalog."default" NOT NULL,
    otherid character varying(16) COLLATE pg_catalog."default" NOT NULL,
    fedtaxid character varying(9) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    deanumber character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    npi character varying(10) COLLATE pg_catalog."default",
    pecosenrolled boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    CONSTRAINT tbl_doctor_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_doctor
    IS 'Stores healthcare provider information';

CREATE TABLE IF NOT EXISTS c01.tbl_doctortype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_doctortype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_document_templates
(
    id serial NOT NULL,
    name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    templatetype character varying(50) COLLATE pg_catalog."default" NOT NULL,
    content text COLLATE pg_catalog."default" NOT NULL,
    isactive boolean NOT NULL DEFAULT true,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_document_templates_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_document_templates
    IS 'Stores document templates for system-generated documents';

CREATE TABLE IF NOT EXISTS c01.tbl_eligibilityrequest
(
    id serial NOT NULL,
    customerid integer NOT NULL DEFAULT 0,
    customerinsuranceid integer NOT NULL DEFAULT 0,
    region ecs_format_enum NOT NULL DEFAULT 'Region A'::ecs_format_enum,
    requestbatchid integer,
    requesttime timestamp without time zone NOT NULL DEFAULT '1900-01-01 00:00:00'::timestamp without time zone,
    requesttext text COLLATE pg_catalog."default" NOT NULL,
    responsebatchid integer,
    responsetime timestamp without time zone,
    responsetext text COLLATE pg_catalog."default",
    submissiontime timestamp without time zone,
    submissiontext text COLLATE pg_catalog."default",
    CONSTRAINT tbl_eligibilityrequest_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_email_templates
(
    id serial NOT NULL,
    name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    subject character varying(200) COLLATE pg_catalog."default" NOT NULL,
    body text COLLATE pg_catalog."default" NOT NULL,
    isactive boolean NOT NULL DEFAULT true,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_email_templates_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_email_templates
    IS 'Stores email templates for system-generated emails';

CREATE TABLE IF NOT EXISTS c01.tbl_facility
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL,
    medicareid character varying(50) COLLATE pg_catalog."default" NOT NULL,
    medicaidid character varying(50) COLLATE pg_catalog."default" NOT NULL,
    npi character varying(10) COLLATE pg_catalog."default",
    postypeid integer DEFAULT 12,
    defaultdeliveryweek delivery_week_enum NOT NULL,
    directions text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    CONSTRAINT tbl_facility_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_file_attachments
(
    id serial NOT NULL,
    relatedtablename character varying(50) COLLATE pg_catalog."default" NOT NULL,
    relatedrecordid integer NOT NULL,
    filename character varying(255) COLLATE pg_catalog."default" NOT NULL,
    filesize integer NOT NULL,
    filetype character varying(100) COLLATE pg_catalog."default" NOT NULL,
    filecontent bytea NOT NULL,
    uploadedbyuserid integer NOT NULL,
    uploaddatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_file_attachments_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_file_attachments
    IS 'Stores file attachments for various records';

CREATE TABLE IF NOT EXISTS c01.tbl_hao
(
    code character varying(10) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_hao_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_icd10
(
    code character varying(8) COLLATE pg_catalog."default" NOT NULL,
    description character varying(255) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    header boolean NOT NULL DEFAULT false,
    activedate date,
    inactivedate date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_icd10_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_icd9
(
    code character varying(6) COLLATE pg_catalog."default" NOT NULL,
    description character varying(255) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    activedate date,
    inactivedate date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_icd9_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_image
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    type character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    description text COLLATE pg_catalog."default",
    customerid integer,
    orderid integer,
    invoiceid integer,
    doctorid integer,
    cmnformid integer,
    thumbnail bytea,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_image_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_insurancecompany
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    title character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    ecsformat ecs_format_enum NOT NULL DEFAULT 'Region A'::ecs_format_enum,
    type integer,
    groupid integer,
    pricecodeid integer,
    expectedpercent double precision,
    basis basis_enum NOT NULL DEFAULT 'Bill'::basis_enum,
    printhaooninvoice boolean,
    printinvoninvoice boolean,
    medicarenumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    medicaidnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    officeallynumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    zirmednumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    availitynumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    abilitynumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    abilityeligibilitypayerid integer,
    invoiceformid integer,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_insurancecompany_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_insurancecompany
    IS 'Stores insurance company information';

CREATE TABLE IF NOT EXISTS c01.tbl_insurancecompanygroup
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_insurancecompanygroup_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_insurancecompanytype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_insurancecompanytype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_insurancetype
(
    code character varying(2) COLLATE pg_catalog."default" NOT NULL,
    description character varying(40) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_insurancetype_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_inventory
(
    warehouseid integer NOT NULL DEFAULT 0,
    inventoryitemid integer NOT NULL DEFAULT 0,
    onhand double precision NOT NULL DEFAULT 0,
    committed double precision NOT NULL DEFAULT 0,
    onorder double precision NOT NULL DEFAULT 0,
    unavailable double precision NOT NULL DEFAULT 0,
    rented double precision NOT NULL DEFAULT 0,
    sold double precision NOT NULL DEFAULT 0,
    backordered double precision NOT NULL DEFAULT 0,
    reorderpoint double precision NOT NULL DEFAULT 0,
    costperunit numeric(18, 2) NOT NULL DEFAULT 0.00,
    totalcost numeric(18, 2) NOT NULL DEFAULT 0.00,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_inventory_pkey PRIMARY KEY (warehouseid, inventoryitemid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_inventory_transaction
(
    id serial NOT NULL,
    inventoryitemid integer NOT NULL DEFAULT 0,
    warehouseid integer NOT NULL DEFAULT 0,
    typeid integer NOT NULL DEFAULT 0,
    date date NOT NULL DEFAULT '1900-01-01'::date,
    quantity double precision,
    cost numeric(18, 2),
    description character varying(30) COLLATE pg_catalog."default",
    serialid integer,
    vendorid integer,
    customerid integer,
    purchaseorderid integer,
    purchaseorderdetailsid integer,
    invoiceid integer,
    manufacturerid integer,
    orderdetailsid integer,
    orderid integer,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_inventory_transaction_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_inventory_transaction_type
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    onhand integer NOT NULL DEFAULT 0,
    committed integer NOT NULL DEFAULT 0,
    onorder integer NOT NULL DEFAULT 0,
    unavailable integer NOT NULL DEFAULT 0,
    rented integer NOT NULL DEFAULT 0,
    sold integer NOT NULL DEFAULT 0,
    backordered integer NOT NULL DEFAULT 0,
    adjtotalcost integer NOT NULL DEFAULT 0,
    CONSTRAINT tbl_inventory_transaction_type_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_inventoryitem
(
    id serial NOT NULL,
    inventorycode character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    name character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modelnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    barcode character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    barcodetype character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    vendorid integer,
    manufacturerid integer,
    producttypeid integer,
    predefinedtextid integer,
    service boolean NOT NULL DEFAULT false,
    serialized boolean NOT NULL DEFAULT false,
    o2tank boolean NOT NULL DEFAULT false,
    basis basis_enum NOT NULL DEFAULT 'Bill'::basis_enum,
    flatrate boolean NOT NULL DEFAULT false,
    flatrateamount double precision,
    percentage boolean NOT NULL DEFAULT false,
    percentageamount double precision NOT NULL DEFAULT 0,
    frequency inventory_period_enum NOT NULL DEFAULT 'One time'::inventory_period_enum,
    commissionpaidat commission_paid_enum NOT NULL DEFAULT 'Billing'::commission_paid_enum,
    purchaseprice numeric(18, 2) NOT NULL DEFAULT 0.00,
    inactive boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    userfield1 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    userfield2 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_inventoryitem_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_invoice
(
    id serial NOT NULL,
    customerid integer NOT NULL DEFAULT 0,
    orderid integer,
    approved boolean NOT NULL DEFAULT false,
    invoicedate date,
    invoicebalance numeric(18, 2) NOT NULL DEFAULT 0.00,
    submittedto submitted_to_enum NOT NULL DEFAULT 'Ins1'::submitted_to_enum,
    submittedby character varying(50) COLLATE pg_catalog."default",
    submitteddate date,
    submittedbatch character varying(50) COLLATE pg_catalog."default",
    customerinsurance1_id integer,
    customerinsurance2_id integer,
    customerinsurance3_id integer,
    customerinsurance4_id integer,
    icd9_1 character varying(6) COLLATE pg_catalog."default",
    icd9_2 character varying(6) COLLATE pg_catalog."default",
    icd9_3 character varying(6) COLLATE pg_catalog."default",
    icd9_4 character varying(6) COLLATE pg_catalog."default",
    doctorid integer,
    postypeid integer,
    taxrateid integer,
    taxratepercent double precision,
    discount double precision DEFAULT 0,
    acceptassignment boolean NOT NULL DEFAULT false,
    claimnote character varying(80) COLLATE pg_catalog."default",
    facilityid integer,
    referralid integer,
    salesrepid integer,
    archived boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    icd10_01 character varying(8) COLLATE pg_catalog."default",
    icd10_02 character varying(8) COLLATE pg_catalog."default",
    icd10_03 character varying(8) COLLATE pg_catalog."default",
    icd10_04 character varying(8) COLLATE pg_catalog."default",
    icd10_05 character varying(8) COLLATE pg_catalog."default",
    icd10_06 character varying(8) COLLATE pg_catalog."default",
    icd10_07 character varying(8) COLLATE pg_catalog."default",
    icd10_08 character varying(8) COLLATE pg_catalog."default",
    icd10_09 character varying(8) COLLATE pg_catalog."default",
    icd10_10 character varying(8) COLLATE pg_catalog."default",
    icd10_11 character varying(8) COLLATE pg_catalog."default",
    icd10_12 character varying(8) COLLATE pg_catalog."default",
    CONSTRAINT tbl_invoice_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_invoice
    IS 'Stores invoice header information';

CREATE TABLE IF NOT EXISTS c01.tbl_invoice_transaction
(
    id serial NOT NULL,
    invoicedetailsid integer NOT NULL DEFAULT 0,
    invoiceid integer NOT NULL DEFAULT 0,
    customerid integer NOT NULL DEFAULT 0,
    insurancecompanyid integer,
    customerinsuranceid integer,
    transactiontypeid integer NOT NULL DEFAULT 0,
    transactiondate date,
    amount numeric(18, 2) NOT NULL DEFAULT 0.00,
    quantity double precision NOT NULL DEFAULT 0,
    taxes numeric(18, 2) NOT NULL DEFAULT 0.00,
    deductible numeric(18, 2) NOT NULL DEFAULT 0.00,
    batchnumber character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    comments text COLLATE pg_catalog."default",
    extra text COLLATE pg_catalog."default",
    approved boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_invoice_transaction_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_invoice_transactiontype
(
    id integer NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    balance integer NOT NULL DEFAULT 0,
    allowable integer NOT NULL DEFAULT 0,
    amount integer NOT NULL DEFAULT 0,
    taxes integer NOT NULL DEFAULT 0,
    CONSTRAINT tbl_invoice_transactiontype_pkey PRIMARY KEY (id),
    CONSTRAINT ix_invoice_transactiontype_name UNIQUE (name)
);

CREATE TABLE IF NOT EXISTS c01.tbl_invoicedetails
(
    id serial NOT NULL,
    invoiceid integer NOT NULL DEFAULT 0,
    customerid integer NOT NULL DEFAULT 0,
    inventoryitemid integer NOT NULL DEFAULT 0,
    pricecodeid integer NOT NULL DEFAULT 0,
    orderid integer,
    orderdetailsid integer,
    balance numeric(18, 2) NOT NULL DEFAULT 0.00,
    billableamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    allowableamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    taxes numeric(18, 2) NOT NULL DEFAULT 0.00,
    quantity double precision NOT NULL DEFAULT 0,
    invoicedate date,
    dosfrom date NOT NULL DEFAULT '1900-01-01'::date,
    dosto date,
    billingcode character varying(50) COLLATE pg_catalog."default",
    modifier1 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier2 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier3 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier4 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    dxpointer character varying(50) COLLATE pg_catalog."default",
    dxpointer10 character varying(50) COLLATE pg_catalog."default",
    billingmonth integer NOT NULL DEFAULT 0,
    sendcmn_rx_w_invoice boolean NOT NULL DEFAULT false,
    specialcode character varying(50) COLLATE pg_catalog."default",
    reviewcode character varying(50) COLLATE pg_catalog."default",
    medicallyunnecessary boolean NOT NULL DEFAULT false,
    authorizationnumber character varying(50) COLLATE pg_catalog."default",
    authorizationtypeid integer,
    invoicenotes character varying(255) COLLATE pg_catalog."default",
    invoicerecord character varying(255) COLLATE pg_catalog."default",
    cmnformid integer,
    haocode character varying(10) COLLATE pg_catalog."default",
    haodescription character varying(100) COLLATE pg_catalog."default",
    billins1 boolean NOT NULL DEFAULT true,
    billins2 boolean NOT NULL DEFAULT true,
    billins3 boolean NOT NULL DEFAULT true,
    billins4 boolean NOT NULL DEFAULT true,
    hardship boolean NOT NULL DEFAULT false,
    showspandates boolean NOT NULL DEFAULT false,
    paymentamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    writeoffamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    currentpayer payer_enum NOT NULL DEFAULT 'Ins1'::payer_enum,
    pendings smallint NOT NULL DEFAULT 0,
    submits smallint NOT NULL DEFAULT 0,
    payments smallint NOT NULL DEFAULT 0,
    submitteddate date,
    submitted boolean NOT NULL DEFAULT false,
    currentinsurancecompanyid integer,
    currentcustomerinsuranceid integer,
    acceptassignment boolean NOT NULL DEFAULT false,
    deductibleamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    drugnotefield character varying(20) COLLATE pg_catalog."default",
    drugcontrolnumber character varying(50) COLLATE pg_catalog."default",
    nopayins1 boolean NOT NULL DEFAULT false,
    pointericd10 smallint NOT NULL DEFAULT 0,
    CONSTRAINT tbl_invoicedetails_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_invoiceform
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    reportfilename character varying(50) COLLATE pg_catalog."default" NOT NULL,
    margintop double precision NOT NULL DEFAULT 0.25,
    marginleft double precision NOT NULL DEFAULT 0.19,
    marginbottom double precision NOT NULL DEFAULT 0.18,
    marginright double precision NOT NULL DEFAULT 0.22,
    specialcoding character varying(20) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_invoiceform_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_kit
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_kit_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_kitdetails
(
    id serial NOT NULL,
    kitid integer NOT NULL,
    warehouseid integer NOT NULL,
    inventoryitemid integer NOT NULL,
    pricecodeid integer,
    quantity integer NOT NULL,
    CONSTRAINT tbl_kitdetails_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_legalrep
(
    id serial NOT NULL,
    courtesy courtesy_enum NOT NULL,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL,
    middlename character varying(1) COLLATE pg_catalog."default" NOT NULL,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL,
    firmname character varying(50) COLLATE pg_catalog."default",
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    officephone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    mobile character varying(50) COLLATE pg_catalog."default" NOT NULL,
    pager character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_legalrep_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_location
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    code character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    email character varying(50) COLLATE pg_catalog."default",
    fedtaxid character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    taxidtype tax_id_type_enum NOT NULL DEFAULT 'SSN'::tax_id_type_enum,
    npi character varying(10) COLLATE pg_catalog."default",
    postypeid integer DEFAULT 12,
    warehouseid integer,
    taxrateid integer,
    invoiceformid integer,
    pricecodeid integer,
    participatingprovider boolean,
    printinfoondelpupticket boolean,
    printinfooninvoiceacctstatements boolean,
    printinfoonpartprovider boolean,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_location_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_manufacturer
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    accountnumber character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_manufacturer_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_medicalconditions
(
    code character varying(6) COLLATE pg_catalog."default" NOT NULL,
    description character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_medicalconditions_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_notification_queue
(
    id serial NOT NULL,
    notificationtype character varying(50) COLLATE pg_catalog."default" NOT NULL,
    recipientid integer NOT NULL,
    subject character varying(200) COLLATE pg_catalog."default" NOT NULL,
    message text COLLATE pg_catalog."default" NOT NULL,
    priority integer NOT NULL DEFAULT 0,
    status character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT 'Pending'::character varying,
    createddatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    processeddatetime timestamp without time zone,
    CONSTRAINT tbl_notification_queue_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_notification_queue
    IS 'Queues notifications for processing';

CREATE TABLE IF NOT EXISTS c01.tbl_object
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    description character varying(50) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT tbl_object_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_order
(
    id serial NOT NULL,
    customerid integer NOT NULL,
    approved boolean NOT NULL DEFAULT false,
    retailsales boolean NOT NULL DEFAULT false,
    orderdate date,
    deliverydate date,
    billdate date,
    enddate date,
    shippingmethodid integer,
    specialinstructions text COLLATE pg_catalog."default",
    ticketmesage character varying(50) COLLATE pg_catalog."default",
    customerinsurance1_id integer,
    customerinsurance2_id integer,
    customerinsurance3_id integer,
    customerinsurance4_id integer,
    icd9_1 character varying(6) COLLATE pg_catalog."default",
    icd9_2 character varying(6) COLLATE pg_catalog."default",
    icd9_3 character varying(6) COLLATE pg_catalog."default",
    icd9_4 character varying(6) COLLATE pg_catalog."default",
    doctorid integer,
    postypeid integer,
    takenby character varying(50) COLLATE pg_catalog."default" DEFAULT ''::character varying,
    discount double precision,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    saletype sale_type_enum NOT NULL DEFAULT 'Back Office'::sale_type_enum,
    state order_state_enum NOT NULL DEFAULT 'New'::order_state_enum,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    acceptassignment boolean NOT NULL DEFAULT false,
    claimnote character varying(80) COLLATE pg_catalog."default",
    facilityid integer,
    referralid integer,
    salesrepid integer,
    locationid integer,
    archived boolean NOT NULL DEFAULT false,
    takenat timestamp without time zone,
    icd10_01 character varying(8) COLLATE pg_catalog."default",
    icd10_02 character varying(8) COLLATE pg_catalog."default",
    icd10_03 character varying(8) COLLATE pg_catalog."default",
    icd10_04 character varying(8) COLLATE pg_catalog."default",
    icd10_05 character varying(8) COLLATE pg_catalog."default",
    icd10_06 character varying(8) COLLATE pg_catalog."default",
    icd10_07 character varying(8) COLLATE pg_catalog."default",
    icd10_08 character varying(8) COLLATE pg_catalog."default",
    icd10_09 character varying(8) COLLATE pg_catalog."default",
    icd10_10 character varying(8) COLLATE pg_catalog."default",
    icd10_11 character varying(8) COLLATE pg_catalog."default",
    icd10_12 character varying(8) COLLATE pg_catalog."default",
    userfield1 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    userfield2 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_order_pkey PRIMARY KEY (customerid, id)
);

COMMENT ON TABLE c01.tbl_order
    IS 'Stores order header information';

CREATE TABLE IF NOT EXISTS c01.tbl_order_survey
(
    id serial NOT NULL,
    surveyid integer NOT NULL,
    orderid integer NOT NULL,
    form text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_order_survey_pkey PRIMARY KEY (id),
    CONSTRAINT order_survey_orderid_key UNIQUE (orderid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_orderdetails
(
    id serial NOT NULL,
    orderid integer NOT NULL,
    customerid integer NOT NULL,
    serialnumber character varying(50) COLLATE pg_catalog."default",
    inventoryitemid integer NOT NULL,
    pricecodeid integer NOT NULL,
    salerenttype sale_rent_type_enum NOT NULL DEFAULT 'Monthly Rental'::sale_rent_type_enum,
    serialid integer,
    billableprice numeric(18, 2) NOT NULL DEFAULT 0.00,
    allowableprice numeric(18, 2) NOT NULL DEFAULT 0.00,
    taxable boolean NOT NULL DEFAULT false,
    flatrate boolean NOT NULL DEFAULT false,
    dosfrom date NOT NULL DEFAULT '1900-01-01'::date,
    dosto date,
    pickupdate date,
    showspandates boolean NOT NULL DEFAULT false,
    orderedquantity double precision NOT NULL DEFAULT 0,
    orderedunits character varying(50) COLLATE pg_catalog."default",
    orderedwhen period_enum NOT NULL DEFAULT 'One time'::period_enum,
    orderedconverter double precision NOT NULL DEFAULT 1,
    billedquantity double precision NOT NULL DEFAULT 0,
    billedunits character varying(50) COLLATE pg_catalog."default",
    billedwhen period_enum NOT NULL DEFAULT 'One time'::period_enum,
    billedconverter double precision NOT NULL DEFAULT 1,
    deliveryquantity double precision NOT NULL DEFAULT 0,
    deliveryunits character varying(50) COLLATE pg_catalog."default",
    deliveryconverter double precision NOT NULL DEFAULT 1,
    billingcode character varying(50) COLLATE pg_catalog."default",
    modifier1 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier2 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier3 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modifier4 character varying(8) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    dxpointer character varying(50) COLLATE pg_catalog."default",
    billingmonth integer NOT NULL DEFAULT 1,
    billitemon bill_item_enum NOT NULL DEFAULT 'Day of Delivery'::bill_item_enum,
    authorizationnumber character varying(50) COLLATE pg_catalog."default",
    authorizationtypeid integer,
    reasonforpickup character varying(50) COLLATE pg_catalog."default",
    sendcmn_rx_w_invoice boolean NOT NULL DEFAULT false,
    medicallyunnecessary boolean NOT NULL DEFAULT false,
    sale boolean NOT NULL DEFAULT false,
    specialcode character varying(50) COLLATE pg_catalog."default",
    reviewcode character varying(50) COLLATE pg_catalog."default",
    nextorderid integer,
    reoccuringid integer,
    cmnformid integer,
    haocode character varying(10) COLLATE pg_catalog."default",
    state order_state_enum NOT NULL DEFAULT 'New'::order_state_enum,
    billins1 boolean NOT NULL DEFAULT true,
    billins2 boolean NOT NULL DEFAULT true,
    billins3 boolean NOT NULL DEFAULT true,
    billins4 boolean NOT NULL DEFAULT true,
    enddate date,
    mir text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    nextbillingdate date,
    warehouseid integer NOT NULL,
    acceptassignment boolean NOT NULL DEFAULT false,
    drugnotefield character varying(20) COLLATE pg_catalog."default",
    drugcontrolnumber character varying(50) COLLATE pg_catalog."default",
    nopayins1 boolean NOT NULL DEFAULT false,
    pointericd10 smallint NOT NULL DEFAULT 0,
    dxpointer10 character varying(50) COLLATE pg_catalog."default",
    "MIR.ORDER" text COLLATE pg_catalog."default" NOT NULL DEFAULT ''::text,
    haodescription character varying(100) COLLATE pg_catalog."default",
    userfield1 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    userfield2 character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    authorizationexpirationdate date,
    CONSTRAINT tbl_orderdetails_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_payer
(
    insurancecompanyid integer NOT NULL,
    participatingprovider boolean NOT NULL DEFAULT false,
    extractorderingphysician boolean NOT NULL DEFAULT true,
    extractreferringphysician boolean NOT NULL DEFAULT false,
    extractrenderingprovider boolean NOT NULL DEFAULT false,
    taxonomycodeprefix character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint NOT NULL,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_payer_pkey PRIMARY KEY (insurancecompanyid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_paymentplan
(
    id serial NOT NULL,
    customerid integer NOT NULL,
    period payment_period_enum NOT NULL DEFAULT 'Weekly'::payment_period_enum,
    firstpayment date NOT NULL DEFAULT '1900-01-01'::date,
    paymentcount integer NOT NULL,
    paymentamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    details text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_paymentplan_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_paymentplan_payments
(
    id serial NOT NULL,
    paymentplanid integer NOT NULL,
    customerid integer NOT NULL,
    "Index" integer NOT NULL,
    duedate date NOT NULL DEFAULT '1900-01-01'::date,
    dueamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    paymentdate date,
    paymentamount numeric(18, 2) NOT NULL DEFAULT 0.00,
    details text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_paymentplan_payments_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_permissions
(
    userid smallint NOT NULL,
    objectid smallint NOT NULL,
    add_edit boolean NOT NULL DEFAULT false,
    delete boolean NOT NULL DEFAULT false,
    process boolean NOT NULL DEFAULT false,
    view boolean NOT NULL DEFAULT false,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_permissions_pkey PRIMARY KEY (userid, objectid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_postype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_postype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_predefinedtext
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    type document_type_enum NOT NULL DEFAULT 'Document Text'::document_type_enum,
    text text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_predefinedtext_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_price_history
(
    id serial NOT NULL,
    productid integer NOT NULL,
    pricetype character varying(20) COLLATE pg_catalog."default" NOT NULL,
    oldprice numeric(18, 2),
    newprice numeric(18, 2) NOT NULL,
    effectivedate date NOT NULL,
    enddate date,
    reason text COLLATE pg_catalog."default",
    changedbyuserid integer NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_price_history_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_price_history
    IS 'Historical record of product price changes';

CREATE TABLE IF NOT EXISTS c01.tbl_pricecode
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_pricecode_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_product_category
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    parentcategoryid integer,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_product_category_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_product_history
(
    id serial NOT NULL,
    productid integer NOT NULL,
    changetype character varying(20) COLLATE pg_catalog."default" NOT NULL,
    field character varying(50) COLLATE pg_catalog."default" NOT NULL,
    oldvalue text COLLATE pg_catalog."default",
    newvalue text COLLATE pg_catalog."default",
    changedate timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    changedbyuserid integer NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_product_history_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_product_history
    IS 'Tracks changes to product information';

CREATE TABLE IF NOT EXISTS c01.tbl_product_price
(
    id serial NOT NULL,
    productid integer NOT NULL,
    pricelevel integer NOT NULL,
    price numeric(10, 2) NOT NULL,
    startdate date NOT NULL,
    enddate date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_product_price_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_productgroup
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    parentgroupid integer,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_productgroup_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_productgroup
    IS 'Hierarchical grouping of products';

CREATE TABLE IF NOT EXISTS c01.tbl_producttype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    description text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_producttype_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_producttype
    IS 'Stores different types of products';

CREATE TABLE IF NOT EXISTS c01.tbl_provider
(
    id serial NOT NULL,
    locationid integer NOT NULL DEFAULT 0,
    insurancecompanyid integer NOT NULL DEFAULT 0,
    providernumber character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    providernumbertype character varying(6) COLLATE pg_catalog."default" NOT NULL DEFAULT '1C'::character varying,
    password character varying(20) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_provider_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_providernumbertype
(
    code character varying(6) COLLATE pg_catalog."default" NOT NULL,
    description character varying(100) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_providernumbertype_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_purchase_order_details
(
    id serial NOT NULL,
    purchaseorderid integer NOT NULL,
    productid integer NOT NULL,
    quantity integer NOT NULL,
    unitprice numeric(10, 2) NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_purchase_order_details_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_purchaseorder
(
    id serial NOT NULL,
    "number" character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    vendorid integer NOT NULL,
    orderdate date,
    createddate date,
    createduserid smallint,
    submitteddate date,
    submitteduserid smallint,
    approved boolean NOT NULL DEFAULT false,
    cost numeric(18, 2) NOT NULL DEFAULT 0.00,
    freight numeric(18, 2) NOT NULL DEFAULT 0.00,
    tax numeric(18, 2) NOT NULL DEFAULT 0.00,
    totaldue numeric(18, 2) NOT NULL DEFAULT 0.00,
    shipvia shipping_method_enum,
    fob character varying(50) COLLATE pg_catalog."default",
    vendorsalesrep character varying(50) COLLATE pg_catalog."default",
    terms text COLLATE pg_catalog."default",
    confirmationnumber character varying(50) COLLATE pg_catalog."default",
    locationid integer,
    taxrateid integer,
    reoccuring boolean NOT NULL DEFAULT false,
    archived boolean NOT NULL DEFAULT false,
    shiptoname character varying(50) COLLATE pg_catalog."default" NOT NULL,
    shiptoaddress1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    shiptoaddress2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    shiptocity character varying(25) COLLATE pg_catalog."default" NOT NULL,
    shiptostate character varying(2) COLLATE pg_catalog."default" NOT NULL,
    shiptozip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    shiptophone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    companyname character varying(50) COLLATE pg_catalog."default" NOT NULL,
    companyaddress1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    companyaddress2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    companycity character varying(25) COLLATE pg_catalog."default" NOT NULL,
    companystate character varying(2) COLLATE pg_catalog."default" NOT NULL,
    companyzip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    companyphone character varying(50) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_purchaseorder_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_referral
(
    id serial NOT NULL,
    courtesy courtesy_enum NOT NULL,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL,
    middlename character varying(1) COLLATE pg_catalog."default" NOT NULL,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    homephone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    workphone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL,
    mobile character varying(50) COLLATE pg_catalog."default" NOT NULL,
    employer character varying(50) COLLATE pg_catalog."default" NOT NULL,
    referraltypeid integer,
    lastcontacted date,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_referral_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_referraltype
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_referraltype_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_relationship
(
    code character(2) COLLATE pg_catalog."default" NOT NULL,
    description character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_relationship_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_report_schedules
(
    id serial NOT NULL,
    reportname character varying(100) COLLATE pg_catalog."default" NOT NULL,
    schedule character varying(50) COLLATE pg_catalog."default" NOT NULL,
    parameters text COLLATE pg_catalog."default",
    recipients text COLLATE pg_catalog."default" NOT NULL,
    isactive boolean NOT NULL DEFAULT true,
    lastrundatetime timestamp without time zone,
    nextrundatetime timestamp without time zone,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_report_schedules_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_report_schedules
    IS 'Manages scheduled report generation';

CREATE TABLE IF NOT EXISTS c01.tbl_salesrep
(
    id serial NOT NULL,
    courtesy courtesy_enum NOT NULL,
    firstname character varying(25) COLLATE pg_catalog."default" NOT NULL,
    lastname character varying(30) COLLATE pg_catalog."default" NOT NULL,
    middlename character varying(1) COLLATE pg_catalog."default" NOT NULL,
    suffix character varying(4) COLLATE pg_catalog."default" NOT NULL,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    homephone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    mobile character varying(50) COLLATE pg_catalog."default" NOT NULL,
    pager character varying(50) COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_salesrep_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_serial
(
    id serial NOT NULL,
    serialnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    inventoryitemid integer NOT NULL DEFAULT 0,
    manufaturerserialnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    modelnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    status serial_status_enum NOT NULL DEFAULT 'Empty'::serial_status_enum,
    ownrent own_rent_enum NOT NULL DEFAULT 'Own'::own_rent_enum,
    currentcustomerid integer,
    lastcustomerid integer,
    manufacturerid integer,
    vendorid integer,
    warehouseid integer,
    purchaseorderid integer,
    purchaseamount double precision NOT NULL DEFAULT 0,
    purchasedate date,
    firstrented date,
    solddate date,
    saleprice numeric(18, 2),
    salvagevalue numeric(18, 2),
    lotnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lotnumberexpires timestamp without time zone,
    lengthofwarranty character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    warranty character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    monthsrented character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    maintenancerecord text COLLATE pg_catalog."default" NOT NULL,
    nextmaintenancedate date,
    consignmenttype character varying(20) COLLATE pg_catalog."default",
    consignmentname character varying(50) COLLATE pg_catalog."default",
    consignmentdate timestamp without time zone,
    vendorstocknumber character varying(20) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_serial_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_serial_maintenance
(
    id serial NOT NULL,
    serialid integer NOT NULL,
    additionalequipment text COLLATE pg_catalog."default",
    descriptionofproblem text COLLATE pg_catalog."default",
    descriptionofwork text COLLATE pg_catalog."default",
    maintenancerecord text COLLATE pg_catalog."default",
    laborhours character varying(255) COLLATE pg_catalog."default",
    technician character varying(255) COLLATE pg_catalog."default",
    maintenancedue date,
    maintenancecost numeric(18, 2) NOT NULL DEFAULT 0.00,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_serial_maintenance_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_serial_transaction
(
    id serial NOT NULL,
    typeid integer NOT NULL DEFAULT 0,
    serialid integer NOT NULL DEFAULT 0,
    transactiondatetime timestamp without time zone NOT NULL,
    vendorid integer,
    warehouseid integer,
    customerid integer,
    orderid integer,
    orderdetailsid integer,
    lotnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_serial_transaction_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_serial_transaction_type
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT tbl_serial_transaction_type_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_sessions
(
    id serial NOT NULL,
    userid smallint NOT NULL,
    logintime timestamp without time zone NOT NULL,
    lastupdatetime timestamp without time zone NOT NULL,
    CONSTRAINT tbl_sessions_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_shipping_history
(
    id serial NOT NULL,
    customerid integer NOT NULL,
    orderid integer NOT NULL,
    shippingmethodid integer NOT NULL,
    trackingnumber character varying(100) COLLATE pg_catalog."default",
    shippeddate timestamp without time zone NOT NULL,
    estimateddeliverydate date,
    actualdeliverydate date,
    status character varying(50) COLLATE pg_catalog."default" NOT NULL,
    notes text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_shipping_history_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_shipping_history
    IS 'Tracks shipping status and delivery information';

CREATE TABLE IF NOT EXISTS c01.tbl_shipping_tracking
(
    id serial NOT NULL,
    orderid integer NOT NULL,
    trackingnumber character varying(50) COLLATE pg_catalog."default" NOT NULL,
    shipdate date NOT NULL,
    estimateddeliverydate date,
    actualdeliverydate date,
    status character varying(50) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_shipping_tracking_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_shippingmethod
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    type character varying(50) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_shippingmethod_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_signaturetype
(
    code character(1) COLLATE pg_catalog."default" NOT NULL,
    description character varying(100) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    CONSTRAINT tbl_signaturetype_pkey PRIMARY KEY (code)
);

CREATE TABLE IF NOT EXISTS c01.tbl_submitter
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    "number" character varying(16) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    password character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    ecsformat ecs_format_enum,
    production boolean NOT NULL DEFAULT false,
    contactname character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone1 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastbatchnumber character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_submitter_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_survey
(
    id serial NOT NULL,
    name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    description character varying(200) COLLATE pg_catalog."default" NOT NULL,
    template text COLLATE pg_catalog."default" NOT NULL,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_survey_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_system_settings
(
    settingkey character varying(50) COLLATE pg_catalog."default" NOT NULL,
    settingvalue text COLLATE pg_catalog."default" NOT NULL,
    settingdescription text COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_system_settings_pkey PRIMARY KEY (settingkey)
);

CREATE TABLE IF NOT EXISTS c01.tbl_taxrate
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    statetax double precision,
    countytax double precision,
    citytax double precision,
    othertax double precision,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_taxrate_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_user
(
    id smallserial NOT NULL,
    login character varying(16) COLLATE pg_catalog."default" NOT NULL,
    password character varying(32) COLLATE pg_catalog."default" NOT NULL,
    email character varying(150) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_user_pkey PRIMARY KEY (id),
    CONSTRAINT tbl_user_login_key UNIQUE (login)
);

CREATE TABLE IF NOT EXISTS c01.tbl_user_activity_log
(
    id serial NOT NULL,
    userid integer NOT NULL,
    activitytype character varying(50) COLLATE pg_catalog."default" NOT NULL,
    activitydetails text COLLATE pg_catalog."default" NOT NULL,
    ipaddress character varying(45) COLLATE pg_catalog."default",
    useragent character varying(255) COLLATE pg_catalog."default",
    activitydatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_user_activity_log_pkey PRIMARY KEY (id)
);

COMMENT ON TABLE c01.tbl_user_activity_log
    IS 'Logs user activities for audit purposes';

CREATE TABLE IF NOT EXISTS c01.tbl_user_location
(
    userid smallint NOT NULL,
    locationid integer NOT NULL,
    CONSTRAINT tbl_user_location_pkey PRIMARY KEY (userid, locationid),
    CONSTRAINT locationid_unique UNIQUE (locationid, userid)
);

CREATE TABLE IF NOT EXISTS c01.tbl_user_notifications
(
    id serial NOT NULL,
    type character varying(50) COLLATE pg_catalog."default" NOT NULL,
    args character varying(255) COLLATE pg_catalog."default" NOT NULL,
    userid smallint NOT NULL,
    datetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_user_notifications_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_variables
(
    name character varying(31) COLLATE pg_catalog."default" NOT NULL,
    value character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT tbl_variables_pkey PRIMARY KEY (name)
);

CREATE TABLE IF NOT EXISTS c01.tbl_vendor
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL,
    accountnumber character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL,
    state character varying(2) COLLATE pg_catalog."default" NOT NULL,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL,
    comments text COLLATE pg_catalog."default",
    fobdelivery character varying(50) COLLATE pg_catalog."default",
    terms character varying(50) COLLATE pg_catalog."default",
    shipvia character varying(50) COLLATE pg_catalog."default",
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_vendor_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS c01.tbl_warehouse
(
    id serial NOT NULL,
    name character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    contact character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address1 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    address2 character varying(40) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    city character varying(25) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    state character(2) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::bpchar,
    zip character varying(10) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    phone2 character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    fax character varying(50) COLLATE pg_catalog."default" NOT NULL DEFAULT ''::character varying,
    lastupdateuserid smallint,
    lastupdatedatetime timestamp without time zone NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT tbl_warehouse_pkey PRIMARY KEY (id)
);

ALTER TABLE IF EXISTS c01.tbl_cmnform_0203a
    ADD CONSTRAINT fk_cmnform_0203a_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0203a_pkey
    ON c01.tbl_cmnform_0203a(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0203b
    ADD CONSTRAINT fk_cmnform_0203b_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0203b_pkey
    ON c01.tbl_cmnform_0203b(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0302
    ADD CONSTRAINT fk_cmnform_0302_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0302_pkey
    ON c01.tbl_cmnform_0302(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0404b
    ADD CONSTRAINT fk_cmnform_0404b_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0404b_pkey
    ON c01.tbl_cmnform_0404b(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0404c
    ADD CONSTRAINT fk_cmnform_0404c_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0404c_pkey
    ON c01.tbl_cmnform_0404c(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0603b
    ADD CONSTRAINT fk_cmnform_0603b_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0603b_pkey
    ON c01.tbl_cmnform_0603b(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0702a
    ADD CONSTRAINT fk_cmnform_0702a_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0702a_pkey
    ON c01.tbl_cmnform_0702a(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0702b
    ADD CONSTRAINT fk_cmnform_0702b_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0702b_pkey
    ON c01.tbl_cmnform_0702b(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0802
    ADD CONSTRAINT fk_cmnform_0802_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0802_pkey
    ON c01.tbl_cmnform_0802(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0902
    ADD CONSTRAINT fk_cmnform_0902_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0902_pkey
    ON c01.tbl_cmnform_0902(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_0903
    ADD CONSTRAINT fk_cmnform_0903_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_0903_pkey
    ON c01.tbl_cmnform_0903(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_1003
    ADD CONSTRAINT fk_cmnform_1003_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_1003_pkey
    ON c01.tbl_cmnform_1003(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_cmnform_4842
    ADD CONSTRAINT fk_cmnform_4842_cmnform FOREIGN KEY (cmnformid)
    REFERENCES c01.tbl_cmnform (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_cmnform_4842_pkey
    ON c01.tbl_cmnform_4842(cmnformid);


ALTER TABLE IF EXISTS c01.tbl_compliance
    ADD CONSTRAINT fk_compliance_customer FOREIGN KEY (customerid, orderid)
    REFERENCES c01.tbl_order (customerid, id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_compliance_items
    ADD CONSTRAINT fk_compliance_items_compliance FOREIGN KEY (complianceid)
    REFERENCES c01.tbl_compliance (id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_compliance_notes
    ADD CONSTRAINT fk_compliance_notes_compliance FOREIGN KEY (complianceid)
    REFERENCES c01.tbl_compliance (id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_deposits
    ADD CONSTRAINT fk_deposits_order FOREIGN KEY (customerid, orderid)
    REFERENCES c01.tbl_order (customerid, id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS tbl_deposits_pkey
    ON c01.tbl_deposits(customerid, orderid);


ALTER TABLE IF EXISTS c01.tbl_kitdetails
    ADD CONSTRAINT fk_kitdetails_kit FOREIGN KEY (kitid)
    REFERENCES c01.tbl_kit (id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_order_survey
    ADD CONSTRAINT fk_order_survey_survey FOREIGN KEY (surveyid)
    REFERENCES c01.tbl_survey (id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_orderdetails
    ADD CONSTRAINT fk_nextorder FOREIGN KEY (customerid, nextorderid)
    REFERENCES c01.tbl_order (customerid, id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;
CREATE INDEX IF NOT EXISTS idx_customerid_nextorderid
    ON c01.tbl_orderdetails(customerid, nextorderid);


ALTER TABLE IF EXISTS c01.tbl_orderdetails
    ADD CONSTRAINT fk_order FOREIGN KEY (customerid, orderid)
    REFERENCES c01.tbl_order (customerid, id) MATCH SIMPLE
    ON UPDATE CASCADE
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_price_history
    ADD CONSTRAINT fk_price_history_user FOREIGN KEY (changedbyuserid)
    REFERENCES c01.tbl_user (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_product_history
    ADD CONSTRAINT fk_product_history_user FOREIGN KEY (changedbyuserid)
    REFERENCES c01.tbl_user (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_productgroup
    ADD CONSTRAINT tbl_productgroup_parentgroupid_fkey FOREIGN KEY (parentgroupid)
    REFERENCES c01.tbl_productgroup (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;


ALTER TABLE IF EXISTS c01.tbl_shipping_history
    ADD CONSTRAINT fk_shipping_history_order FOREIGN KEY (customerid, orderid)
    REFERENCES c01.tbl_order (customerid, id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION;

END;